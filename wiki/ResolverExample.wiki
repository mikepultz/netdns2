= Basic Query Syntax =

{{{

require_once("Net_DNS2/Net/DNS2.php");

//
// create new resolver object, passing in an array of name
// servers to use for lookups
//
$r = new Net_DNS2_Resolver(array('nameservers' => array('192.168.0.1')));

//
// execute the query request for the google.com MX servers
//
try {
        $result = $r->query('google.com', 'MX');

} catch(InvalidArgumentException $e) {

        echo "Failed to query: ", $e->getMessage(), "\n";
}

//
// loop through the answer, printing out the MX servers retured.
//
foreach($result->answer as $mxrr)
{
        printf("preference=%d, host=%s\n", $mxrr->preference, $mxrr->exchange);
}

}}}